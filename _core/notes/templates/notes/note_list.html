{% extends 'base.html' %}

{% load template_tags3 %}

{% block content %}

<h2 style="margin-left: 15px">Notes - Note Detail</h2>

<nav class="navbar">
    <a class="btn btn-success fa fa-plus" href="{% url 'note_create' %}"></a>
    <a class="btn btn-info fa fa-list" href="{% url 'note_list' %}"> Active</a>
    <a class="btn btn-info fa fa-list" href="{% url 'note_deleted_list' %}"> Deleted</a>
</nav>

<table class="table table-striped">
    <tr>
        <th><a class="fa fa-search"></a></th>
        <th><a class="fa fa-pencil-alt"></a></th>
        <th><a class="fa fa-trash"></a></th>
        <th>Title</th>
        <th>Category</th>
        <th>Importance</th>
    </tr>
    {% for object in object_list %}
    <tr>
        <td><i onclick="showDetails({{ object.id }})" class="btn btn-info fa fa-search"></i></td>
{#        <td><a class="btn btn-info fa fa-search" href="{% url 'note_detail' pk=object.id %}"></a></td>#}
        <td><a class="btn btn-warning fa fa-pencil-alt" href="{% url 'note_update' pk=object.id %}"></a></td>
        <td><a class="btn btn-danger fa fa-trash" href="{% url 'note_delete' pk=object.id %}"></a></td>

        <td>{{object.title|default_if_none:''}}</td>
        <td>{{object.category|default_if_none:''}}</td>
        <td>{{object.importance|default_if_none:''}}</td>
    </tr>
    <tr hidden id="text_{{ object.id }}">
        <td colspan="6">
            <span style="display: table;">
                <span style="float: left; width: 15%">
                    Creation:<br>
                    {{object.create_time|format_datetime}}
                </span>
                <span style="float: left; width: 10%">
                    Deleted:<br>
                    {{object.deleted|default_if_none:''}}
                </span>
                <span style="float: left; width: 75%">
                    Text:<br>
                    {{object.text|linebreaksbr|default_if_none:''}}
                </span>
            </span>
        </td>
    </tr>
    {% endfor %}
</table>

<script>

function showDetails(id){
    var newRow = document.getElementById('text_' + id)
    if (newRow.hidden){
        document.getElementById('text_' + id).removeAttribute('hidden')
    } else{
        document.getElementById('text_' + id).setAttribute('hidden', 'hidden')
    }
}

</script>

{% endblock %}
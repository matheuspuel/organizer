{% extends 'base.html' %}

{% load template_tags3 %}

{% block content %}

<h2 style="margin-left: 15px">Todolist - Task List</h2>

{% include 'todolist/task_quick_form.html' %}

<nav class="navbar">
    <a class="btn btn-success fa fa-plus" href="{% url 'task_create' %}"></a>
    <a class="btn btn-info fa fa-list" href="{% url 'task_list' %}"> Active</a>
    <a class="btn btn-info fa fa-list" href="{% url 'task_completed_list' %}"> Completed</a>
    <a class="btn btn-info fa fa-list" href="{% url 'task_deleted_list' %}"> Deleted</a>
</nav>

<table class="table table-striped">
    <thead style="background-color: #bfbfbf">
        <tr>
            <th><a class="fa fa-search"></a></th>
            <th><a class="fa fa-pencil-alt"></a></th>
            <th><a class="fa fa-check"></a></th>
            <th><a class="fa fa-trash"></a></th>
            <th>Priority</th>
            <th>Importance</th>
            <th>Title</th>
            <th>Category</th>
            <th>Place</th>
            <th>Duration</th>
            <th>Start</th>
            <th>Deadline</th>
            <th>Time Left</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for object in object_list %}

        <tr {% if not object.has_started %} style="background-color:lightgray;" {% endif %}>

            <td><a class="btn btn-info fa fa-search" href="{% url 'task_detail' pk=object.id %}"></a></td>
            <td><a class="btn btn-warning fa fa-pencil-alt" href="{% url 'task_update' pk=object.id %}"></a></td>
            <td><a class="btn btn-success fa fa-check" href="{% url 'task_complete' pk=object.id %}"></a></td>
            <td><a class="btn btn-danger fa fa-trash" href="{% url 'task_delete' pk=object.id %}"></a></td>
            <td>{{object.priority|default_if_none:''}}</td>
            <td>{{object.importance|default_if_none:''}}</td>
            <td>{{object.title|default_if_none:''}}</td>
            <td>{{object.category|default_if_none:''}}</td>
            <td>{{object.place|default_if_none:''}}</td>
            <td>{{object.duration|format_timedelta}}</td>
            <td>{{object.start|format_datetime}}</td>
            <td>{{object.deadline|format_datetime}}</td>
            <td>{{object.time_to_end|format_timedelta:'dhm'}}</td>
            <td>{{object.status|default_if_none:''}}</td>

        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}